var vird=function(e){"use strict";const t=new WeakMap,n=new WeakMap;function o(e,o,s,r){let c=t.get(e);c||(c=new Map,t.set(e,c));let i=c.get(o);i||(i=new Set,c.set(o,i)),i.add(s),n.set(s,r)}function s(e){const o={},s=t.get(e);if(s)for(const[e,t]of s){o[e]=[];for(const s of t){const t=n.get(s);o[e].push({listener:s,options:t})}}return o}const r="#text",c="#comment",i="#document-fragment";function f(e,t={},n=[]){return e=e.toLocaleLowerCase(),t=Object.assign({},t),n=[...n],t.textContent||r!==e&&c!==e||(t.textContent=""),{type:e,properties:t,children:n}}function p(e,n={}){"boolean"==typeof n&&(n={deep:n,event:n});const{deep:s=!1,event:r=!1}=n,c=f(e.type,Object.assign({},e.properties),s?e.children.map(e=>p(e,n)):[]);return r&&function(e,n){const s=t.get(n);if(s)for(const[t,n]of s)for(const s of n)o(e,t,s)}(c,e),c}function a(e,t,n,s){const i="string"==typeof e?f(e):e instanceof Node?function e(t,n=!1){const o=t.nodeName,s={};if(t instanceof Element)for(const{name:e,value:n}of t.attributes)s[e]=n;else(t instanceof Comment||t instanceof Text)&&(s.textContent=t.textContent||"");return f(o,s,n?[...t.childNodes].map(t=>e(t,n)):[])}(e,!0):p(e,{deep:!0});if("object"!=typeof t||Array.isArray(t))void 0!==t&&(n=t);else{const{events:e,properties:n}=function(e){const t={events:{},properties:{}};for(const n of Object.keys(e)){const o=e[n];"string"==typeof o?t.properties[n]=o:o&&(t.events[n]=o)}return t}(t);i.properties=Object.assign(Object.assign({},i.properties),n);for(const t of Object.keys(e)){const n=e[t];"function"==typeof n?o(i,t,n):o(i,t,n.listener,n.options)}}if("string"==typeof n){[r,c].includes(i.type)?i.properties.textContent=n:i.children=[f("#text",{textContent:n})]}else Array.isArray(n)?i.children=n.map(e=>"string"==typeof e?f("#text",{textContent:e}):e):void 0!==n&&(s=n);return s&&(i.children=i.children.filter(e=>{if(e.type===c)return!1;if(e.type===r){if(void 0===e.properties.textContent)return!1;if(!/^\s*$/.test(e.properties.textContent))return!1}return!0})),i}function l(e){switch(e.type){case r:return document.createTextNode(e.properties.textContent||"");case c:return document.createComment(e.properties.textContent||"");default:return document.createElement(e.type)}}function u(e,t){const n={};if(e!==t)if(e){const o=Object.keys(e);if(t){const s=Object.keys(t),r=new Set([...o,...s]);for(const o of r){const s=e[o],r=t[o];s!==r&&(n[o]=[s,r])}}else for(const t of o){const o=e[t];n[t]=[o,void 0]}}else if(t){const e=Object.keys(t);for(const o of e){const e=t[o];n[o]=[void 0,e]}}return n}const d=new WeakMap,y=new WeakMap;return e.cloneNode=p,e.createNode=a,e.render=function(e,...t){if(t.length<1)return;!function e(t,n){const o=d.get(t)||[...t.childNodes].map(e=>a(e));d.set(t,n);let r=0,c=0,i=0;const f=n.length,p=o.length,m=Math.max(f,p);for(;r<m;){const a=n[c],m=o[i],h=m&&y.get(m);if(a){let n=h;if(!m||m.type!==a.type){const e=l(a);n=e,h?(d.delete(h),f>p?(t.insertBefore(e,h),i--):f<p?(t.removeChild(h),c--):t.replaceChild(e,h)):t.appendChild(e)}if(n){y.set(a,n);const t=u(a.properties,m&&m.properties);if(n instanceof Element){for(const e of Object.keys(t)){const o=t[e],s=o&&o[0];s?n.setAttribute(e,s):n.removeAttribute(e)}if(m){const e=s(m);for(const t of Object.keys(e)){const o=e[t];for(const{listener:e}of o)n.removeEventListener(t,e)}}const e=s(a);for(const t of Object.keys(e)){const o=e[t];for(const{listener:e,options:s}of o)n.addEventListener(t,e,s)}}else t.textContent&&(n.textContent=t.textContent[0]||"");e(n,a.children)}}else if(h){const e=h.parentElement;e&&e.removeChild(h)}r++,c++,i++}}(e,function e(t){const n=[];for(const o of t)if(o.type===i){const t=e(o.children);n.push(...t)}else n.push(o);return n}(t).map(e=>p(e,!0)))},e}({});
//# sourceMappingURL=index.iife.min.js.map
